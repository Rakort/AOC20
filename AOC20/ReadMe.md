##Оглавление

[День 1: Исправление отчета](#день-1-исправление-отчета)

[День 2: Философия паролей](#День-2-Философия-паролей)

[День 3: Траектория тобоггана](#День-3-Траектория-тобоггана)

[День 4: Оформление паспорта](#День-4-Оформление-паспорта)

[День 5: Бинарная посадка](#День-5-Бинарная-посадка)

[День 6: Таможня](#День-6-Таможня)

[День 7: Удобные рюкзаки](#День-7-Удобные-рюкзаки)

# День 1: Исправление отчета 
## Часть первая 
Прежде чем вы уйдете, эльфам-бухгалтерам просто нужно, чтобы вы исправили свой отчет о расходах (ввод головоломки); очевидно, что-то не совсем складывается.
В частности, им нужно, чтобы вы нашли две записи, которые в сумме дают 2020 а затем умножили эти два числа вместе.
Например, предположим, что ваш отчет о расходах содержит следующее:
```
1721
979
366
299
675
1456
```
В этом списке две записи сумма которых `2020` это `1721` и `299`. Их умножение дает `1721 * 299 = 514579`. Правильный ответ `514579`.

Конечно, ваш отчет о расходах намного больше. Найдите две записи, сумма которых равна 2020. Что вы получите, если умножите их вместе?

### Решение
Просто перебираем элементы в двух циклах складываем и сравниваем. Решение простое и выполняется за приемлимое время.

## Часть вторая 
Эльфы в бухгалтерском учете благодарны за вашу помощь; один из них даже предлагает вам монету с морской звездой, оставшуюся от прошлого отпуска. 
Они предлагают вам вторую, если вы найдете в своем отчете о расходах три числа, которые соответствуют тем же критериям.

Используя приведенный выше пример еще раз, три записи, сумма которых `2020` это `979`, `366` и `675`. Их умножение дает ответ `241861950`.

Каким будет произведение трех чисел в сумме дающих 2020 в вашем отчете о расходах?

### Решение
Добавляем еще один цикл. И все еще выполлняется достаточно быстро.

# День 2: Философия паролей 
## Часть первая 
Ваш рейс вылетает через несколько дней из прибрежного аэропорта; Отсюда проще всего спуститься к побережью на тобоггане.

У владельца магазина проката тобогганов на Северном полюсе тяжелый день. «Что-то не так с нашими компьютерами; мы не можем войти в систему!» 
Вы спрашиваете, можете ли вы взглянуть.

Их база паролей кажется немного поврежденной: некоторые пароли не были разрешены официальной корпоративной политикой тобоггана, действовавшей на момент их выбора.

Чтобы попытаться отладить проблему, они создали список (ввод головоломки) паролей (в соответствии с поврежденной базой данных) и корпоративную политику, когда этот пароль был установлен.

Например, предположим, что у вас есть следующий список:

`1-3 a: abcde`
`1-3 b: cdefg`
`2-9 c: ccccccccc`

В каждой строке указывается политика паролей, а затем пароль. Политика паролей указывает наименьшее и наибольшее количество раз, когда данная буква должна появляться, чтобы пароль был действительным. Например, 1-3 a означает, что пароль должен содержать a минимум 1 раз и максимум 3 раза.

В приведенном выше примере 2 пароля действительны. Средний пароль cdefg нет; он не содержит экземпляров b, но требует как минимум 1. Первый и третий пароли действительны: они содержат один a или девять c, оба в пределах их соответствующих политик.

Сколько паролей действительны в соответствии с их политиками?

### Решение
Для хранения данных в удобном виде создаем класс. У него создаем конструктор который принимает на вход строку и парсит её с помошью регулярного выражения.
Для проверки валидности считаем количество символов соответствующих необходимому. И сверяем с макс и мин значениями.


## Часть вторая 
Хотя кажется, что вы правильно проверили пароли, похоже, они не соответствуют ожиданиям официальной системы аутентификации тобоггана.

Владелец магазина внезапно понимает, что он просто случайно объяснил правила политики паролей на своей старой работе в пункте проката саней на улице! Официальная корпоративная политика тобоггана на самом деле работает немного иначе.

Каждая политика фактически описывает две позиции в пароле, где 1 означает первый символ, 2 означает второй символ и так далее. (Будьте осторожны; в корпоративной политике тобоггана нет понятия «нулевой индекс»!) Ровно одна из этих позиций должна содержать данную букву. Другие случаи появления буквы не имеют значения для целей применения политики.

Учитывая тот же список примеров, приведенный выше:

`1-3 a: abcde` является действительным : положение 1 содержит `a` и положение 3 не содержит.
`1-3 b: cdefg` является недействительным : ни положение, 1 ни позиция 3 не содержит `b`.
`2-9 c: ccccccccc` является недействительным : как позиция 2, так и позиция 9 содержит `c`.
Сколько паролей действительны в соответствии с новой интерпретацией политик?

### Решение
В функции проверки валидности проверяем какие буквы содержатся в указынных позициях.

	let validMin = this.password.[this.min-1] = this.char
	let validMax = this.password.[this.max-1] = this.char
Если `validMin <> validMax` значит пароль действительный, т.е. только один из них содержит нужную букву


# День 3: Траектория тобоггана
## Часть первая
Решив проблемы с входом на тобогган, вы отправитесь в аэропорт. Хотя путешествие на тобоггане может быть легким, это определенно небезопасно: рулевое управление очень мало, а территория покрыта деревьями. Вам нужно будет посмотреть, под каким углом вы приблизитесь к наименьшему количеству деревьев.

Из-за местной геологии деревья в этой области растут только в точных целочисленных координатах в сетке. Вы составляете карту (вход в головоломку) из открытых квадратов ( .) и деревьев ( #), которые видите. Например:

```
..##.......
#...#...#..
.#....#..#.
..#.#...#.#
.#...##..#.
..#.##.....
.#.#.#....#
.#........#
#.##...#...
#...##....#
.#..#...#.#
```

Однако это не единственные деревья; из-за того, что вы однажды прочитали о генетике деревьев и стабильности биома, один и тот же шаблон повторяется вправо много раз:

```
..##.........##.........##.........##.........##.........##.......  >
\#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..
.#....#..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.
..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#
.#...##..#..#...##..#..#...##..#..#...##..#..#...##..#..#...##..#.
..#.##.......#.##.......#.##.......#.##.......#.##.......#.##.....  >
.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#
.#........#.#........#.#........#.#........#.#........#.#........#
\#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...
\#...##....##...##....##...##....##...##....##...##....##...##....#
.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#  >
```

Вы начинаете с открытого квадрата (.) в верхнем левом углу и должны достичь нижнего края (под самой нижней строкой на вашей карте).

Тобогган может двигаться только по нескольким определенным склонам (вы выбрали более дешевую модель, которая предпочитает рациональные числа); начните с подсчета всех деревьев, которые вы встретите на склоне 3 вправо и 1 вниз :

Из вашей начальной позиции в верхнем левом углу проверьте позицию, которая находится справа 3 и вниз 1. Затем проверьте позицию, которая находится справа 3 и вниз 1 оттуда, и так далее, пока вы не пройдете за нижнюю часть карты.

Места, которые вы бы отметили в приведенном выше примере, отмечены здесь тем, Oгде был открытый квадрат и Xгде было дерево:

```
..##.........##.........##.........##.........##.........##.......  >
\#..O#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..
.#....X..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.
..#.#...#O#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#
.#...##..#..X...##..#..#...##..#..#...##..#..#...##..#..#...##..#.
..#.##.......#.X#.......#.##.......#.##.......#.##.......#.##.....  >
.#.#.#....#.#.#.#.O..#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#
.#........#.#........X.#........#.#........#.#........#.#........#
\#.##...#...#.##...#...#.X#...#...#.##...#...#.##...#...#.##...#...
\#...##....##...##....##...#X....##...##....##...##....##...##....#
.#..#...#.#.#..#...#.#.#..#...X.#.#..#...#.#.#..#...#.#.#..#...#.#  >
```

В этом примере при перемещении по карте с использованием этого уклона вы встретите 7деревья.

Сколько деревьев вы встретите, начиная с левого верхнего угла карты и следуя по склону 3 вправо и вниз 1 ?

### Решение
В задече нам задали смещение (3 вправо, 1 вниз) каждый шаг прибавляем его к текущей позиции. 
Если позиция `x` выходит за пределы строки обрезаем её остатком от деления на длину строки.
Таким образом считаем деревья пока не дойдем до низу.

## Часть вторая 
Пора проверить остальные склоны - ведь вам нужно свести к минимуму вероятность внезапной остановки древесных пород.

Определите количество деревьев, с которыми вы столкнетесь, если для каждого из следующих склонов вы начнете с верхнего левого угла и пройдете карту полностью вниз:

1 вправо, 1 вниз.
3 вправо, 1 вниз. (Это наклон, который вы уже проверили.)
5 вправо, 1 вниз.
7 вправо, 1 вниз.
1 вправо, 2 вниз.
В приведенном выше примере, на этих склонах найдете 2, 7, 3, 4, и 2 дерева, соответственно; умноженные вместе, они дают ответ 336.

Что вы получите, если умножите количество деревьев, встречающихся на каждом из перечисленных склонов?

### Решение
Считаем количество деревьев с помощью метода из первой части и находим их произведение.

# День 4: Оформление паспорта 
## Часть первая
Вы прибываете в аэропорт только для того, чтобы понять, что взяли с собой учетные данные Северного полюса вместо паспорта. Хотя эти документы очень похожи, документы Северного полюса не выдаются страной, и следовательно, не являются действительными документами для путешествий в большинстве стран мира.

Но похоже, что проблемы есть не только у вас; сформировалась очень длинная очередь к автоматическим сканерам паспортов, и задержка может нарушить ваш маршрут поездки.

Из-за некоторой сомнительной сетевой безопасности вы понимаете, что можете решить обе эти проблемы одновременно.

Автоматические сканеры паспортов работают медленно, потому что им сложно определить, в каких паспортах есть все обязательные поля. 
Ожидаемые поля:

- `byr` (Год рождения)
- `iyr` (Год выпуска)
- `eyr` (Год истечения)
- `hgt` (Высота)
- `hcl` (Цвет волос)
- `ecl` (Цвет глаз)
- `pid` (Номер паспорта)
- `cid` (ID страны)

Данные паспорта проверяются в пакетных файлах (ввод вашей головоломки). Каждый паспорт представлен как последовательность `key:value` пар, разделенных пробелами или символами новой строки. Паспорта разделяются пустыми строками.

Вот пример командного файла, содержащего четыре паспорта:

```
ecl:gry pid:860033327 eyr:2020 hcl:#fffffd
byr:1937 iyr:2017 cid:147 hgt:183cm

iyr:2013 ecl:amb cid:350 eyr:2023 pid:028048884
hcl:#cfa07d byr:1929

hcl:#ae17e1 iyr:2013
eyr:2024
ecl:brn pid:760753108 byr:1931
hgt:179cm

hcl:#cfa07d eyr:2025 pid:166559648
iyr:2011 ecl:brn hgt:59in
```
Первый паспорт действителен - присутствуют все восемь полей. 

Второй паспорт недействителен - он отсутствует `hgt`(поле Высота).

Третий паспорт интересен; недостающим полем является только `cid`, поэтому он выглядит как данные из документов Северного полюса, а не паспорт у всех! Конечно, никто не будет возражать, если вы заставите систему временно игнорировать отсутствующие `cid` поля. Считайте этот «паспорт» действительным.

В четвертом паспорте отсутствуют два поля `cid` и `byr`. Отсутствие `cid` - это нормально, но отсутствие любого другого поля - нет, поэтому этот паспорт недействителен.

В соответствии с приведенными выше правилами ваша улучшенная система будет определять `2` действительных паспорта.

Подсчитайте количество действующих паспортов - тех, в которых есть все обязательные поля. Считать `cid` необязательным. Сколько действительных паспортов в вашем пакетном файле?

### Решение

Для начала парсим входные данные при помощи нескольких Split-ов. 
С помощью функции Array.except получаем массив элементов отсутствующие в списке обязательных полей. Если их больше `0`, то паспорт не действительный.
Далее считаем количество действительных паспортов.

## Часть вторая
Очередь сейчас движется быстрее, но вы слышите, как служба безопасности аэропорта говорит о том, как проходят паспорта с недействительными данными. Лучше добавить проверку данных, быстро!

Вы можете продолжать игнорировать это `cid` поле, но для каждого другого поля существуют строгие правила относительно того, какие значения допустимы для автоматической проверки:

- `byr` (Год рождения) - четыре цифры; минимум `1920` и максимум `2002`.
- `iyr` (Год выпуска) - четыре цифры; минимум `2010` и максимум `2020`.
- `eyr` (Срок годности) - четыре цифры; минимум `2020` и максимум `2030`.
- `hgt` (Высота) - число, за которым следует либо, `cm` либо `in`:
	* Если `cm`, число должно быть не меньше `150` и не больше `193`.
	* Если `in`, число должно быть не меньше `59` и не больше `76`.
- `hcl` (Цвет волос) - символ `#` за которым следует ровно шесть символов `0-9` или `a-f`.
- `ecl` (Цвет глаз) - точно один из: `amb blu brn gry grn hzl oth`.
- `pid` (Идентификатор паспорта) - девятизначное число, включая ведущие нули.
- `cid` (Country ID) - игнорируется, отсутствует или нет.
Ваша задача - подсчитать паспорта, в которых все обязательные поля присутствуют и действительны в соответствии с вышеуказанными правилами. Вот несколько примеров значений:
```
byr valid:   2002
byr invalid: 2003

hgt valid:   60in
hgt valid:   190cm
hgt invalid: 190in
hgt invalid: 190

hcl valid:   #123abc
hcl invalid: #123abz
hcl invalid: 123abc

ecl valid:   brn
ecl invalid: wat

pid valid:   000000001
pid invalid: 0123456789
```
Вот несколько недействительных паспортов:
```
eyr:1972 cid:100
hcl:#18171d ecl:amb hgt:170 pid:186cm iyr:2018 byr:1926

iyr:2019
hcl:#602927 eyr:1967 hgt:170cm
ecl:grn pid:012533040 byr:1946

hcl:dab227 iyr:2012
ecl:brn hgt:182cm pid:021572410 eyr:2020 byr:1992 cid:277

hgt:59cm ecl:zzz
eyr:2038 hcl:74454a iyr:2023
pid:3556412378 byr:2007
Вот несколько действующих паспортов:

pid:087499704 hgt:74in ecl:grn iyr:2012 eyr:2030 byr:1980
hcl:#623a2f

eyr:2029 ecl:blu cid:129 byr:1989
iyr:2014 pid:896056539 hcl:#a97842 hgt:165cm

hcl:#888785
hgt:164cm byr:2001 iyr:2015 cid:88
pid:545766238 ecl:hzl
eyr:2022

iyr:2010 hgt:158cm hcl:#b6652a ecl:blu byr:1944 eyr:2021 pid:093154719
```
Подсчитайте количество действующих паспортов - тех, у которых есть все обязательные поля и допустимые значения. Продолжать рассматривать `cid` как необязательный. Сколько действительных паспортов в вашем пакетном файле?

### Решение

Начинаем как в части 1 проверяем наличие обязательных полей. Затем проверяем каждое поле на достоверность, в основном с помошью регулярных выражений.

# День 5: Бинарная посадка
## Часть первая
Вы садитесь в самолет и обнаруживаете новую проблему: вы уронили посадочный талон! Вы не уверены, какое место ваше, и все бортпроводники заняты потоком людей, внезапно прошедших паспортный контроль.

Вы пишете быструю программу, которая использует камеру вашего телефона для сканирования всех ближайших посадочных талонов (вводная часть головоломки); возможно, вы сможете найти свое место в процессе исключения.

Вместо зон или групп эта авиакомпания использует двоичное разделение пространства для размещения людей. Сиденье может быть указано как `FBFBBFFRLR`, где `F` означает «переднее», `B` означает «заднее», `L` означает «левое» и `R` означает «правое».

Первые 7 символов будут либо `F` или `B`; они точно указать один из 128 строк на плоскости (пронумерованных от `0` до `127`). Каждая буква сообщает вам, в какой половине региона находится данное место. Начните со всего списка строк; первая буква указывает, находится ли сиденье спереди (от `0` до `63`) или сзади (от `64` до `127`). Следующая буква указывает, в какой половине этого региона находится сиденье, и так далее, пока не останется ровно один ряд.

Например, рассмотрим только первые семь символов `FBFBBFFRLR`:

- Начните с рассмотрения всего диапазона рядов от `0` до `127`.
- `F` значит взять нижнюю половину, сохраняя строки от `0` до `63`.
- `B` значит взять верхнюю половину, сохраняя строки от `32` до `63`.
- `F` значит взять нижнюю половину, сохраняя строки от `32` до `47`.
- `B` значит взять верхнюю половину, сохраняя строки от `40` до `47`.
- `B` держит ряды от `44` до `47`.
- `F` держит ряды от `44` до `45`.
- В финале `F` остается нижний из двух рядов `44`.

Последние три символа будут либо `L` или `R`; это точно указать один из 8 колонок сидений на плоскости (пронумерованных от `0` до `7`). Повторяется тот же процесс, что и выше, на этот раз всего с тремя шагами. `L` означает сохранить нижнюю половину, а `R` означает сохранить верхнюю половину.

Например, рассмотрите только последние 3 символа `FBFBBFFRLR`:

- Начните с рассмотрения всего диапазона столбцов от `0` до `7`.
- `R` означает взять верхнюю половину, оставив колонки c `4` по `7`.
- `L` означает взять нижнюю половину, оставив колонки с `4` по `5`.
- В финале `R` остается верхний из двух столбцов `5`.

Итак, расшифровка `FBFBBFFRLR` показывает, что это место в `44` ряду, `5` столбце.

У каждого места также есть уникальный идентификатор места: умножьте строку на `8`, затем добавьте столбец. В этом примере у места есть ID. `44 * 8 + 5 = 357`

Вот еще несколько посадочных талонов:

`BFFFBBFRRR`: строка `70`, столбец `7`, идентификатор места `567`.
`FFFBBBFRRR`: строка `14`, столбец `7`, идентификатор места `119`.
`BBFFBBFRLL`: строка `102`, столбец `4`, идентификатор места `820`.
В качестве проверки просмотрите список посадочных талонов. Какой самый высокий идентификатор места в посадочном талоне?

### Решение

Сначала реализуем рекурсивный метод для бинарного поиска в который пеердается список символов и минимальное и максимальное значение. 
Берем символы по одному если 'B' или 'R' увеличиваем минимальное значение, если 'F' | 'L' уменьшаем максимальное на половину разницы между мин и макс.
Рекуксивно вызаваем этот же метод убрав первый символ из последовательности, пока минимальное и максимальное значение не уравняются.

Дальше вычисляем строку, столбец и из них индетификатор места. И находим максимальный из них.

## Часть вторая 

Динь! Включились знаки «пристегните ремни безопасности». Пора найти свое место.

Это полностью заполненный рейс, поэтому ваше место должно быть единственным пропущенным посадочным талоном в вашем списке. Однако есть одна загвоздка: некоторых сидений в передней и задней части самолета на этом самолете нет, поэтому они также будут отсутствовать в вашем списке.

Однако ваше место не было ни спереди, ни сзади; места с идентификаторами +1 и -1 из вашего будут в вашем списке.

Какой ID у вашего места?

### Решение

Для поиска пропущеного места сортируем список мест берем по две штуки и ищем те которые отличаются на 2 `prev + 2 = next`, когда находим `prev + 1` является нашим местом.

# День 6: Таможня
## Часть первая
По мере приближения вашего рейса к региональному аэропорту, где вы пересаживаетесь на самолет гораздо большего размера, пассажирам раздают бланки таможенной декларации.

Форма задает ряд 26 да-или-нет вопросов, отмеченных от `a` до `z`. Все, что вам нужно сделать, это определить вопросы, на которые любой член вашей группы отвечает «да». Поскольку ваша группа - это только вы, это не займет много времени.

Однако человек, сидящий рядом с вами, похоже, испытывает языковой барьер, и спрашивает, можете ли вы помочь. Для каждого человека в их группе вы запишите вопросы, на которые они отвечают «да», по одному в каждой строке. Например:
```
abcx
abcy
abcz
```
В этой группе есть 6вопросы , на которые кто ответил «да»: `a`, `b`, `c`, `x`, `y`, и `z`. (Дублирующиеся ответы на один и тот же вопрос не учитываются; каждый вопрос учитывается не более одного раза.)

Другая группа просит вашей помощи, затем другая, и, в конце концов, вы собрали ответы от каждой группы в самолете (ваш ввод головоломки). Ответы каждой группы разделены пустой строкой, и в каждой группе ответы каждого человека находятся в одной строке. Например:
```
abc

a
b
c

ab
ac

a
a
a
a

b
```

В этом списке представлены ответы пяти групп:

- Первая группа состоит из одного человека, который ответил «да» на `3` вопроса: `a`, `b` и `c`.
- Вторая группа состоит из трех человек; в сочетании, они ответили «да» на `3` вопроса: `a`, `b` и `c`.
- Третья группа состоит из двух человек; в сочетании, они ответили «да» на `3` вопроса: `a`, `b` и `c`.
- Четвертая группа состоит из четырех человек; вместе они ответили «да» только на `1` вопрос `a`.
- Последняя группа состоит из одного человека, который ответил «да» только `1` вопрос `b`.

В этом примере сумма этих значений равна `3 + 3 + 3 + 1 + 1` = `11`.

Для каждой группы подсчитайте количество вопросов, на которые кто-нибудь ответил «да». Какова сумма этих подсчетов?

### Решение

Разделяем группы `input.Split("\r\n\r\n")`. Удаляем лишние спец символы `Regex.Replace(group, "\s", "")`. Делаем `distinct` и получаем колическтво уникальных символов.

## Часть вторая

Когда вы заполняете таможенную декларацию последней группы, вы замечаете, что неправильно прочитали одно слово в инструкции:

Вам не нужно называть вопросы, на которые кто-то ответил «да»; нужно обозначить вопросы, на которые все ответили «да»!

Используя тот же пример, что и выше:
```
abc

a
b
c

ab
ac

a
a
a
a

b
```
В этом списке представлены ответы пяти групп:

- В первой группе, каждый (всего 1 человек) ответили «да» на 3вопросы: `a`, `b` и `c`.
- Во второй группе нет вопросов, на которые все ответили «да».
- В третьей группе, все да ответили только `1` вопрос `a`. Поскольку некоторые люди не ответили «да» на `b` или `c`, они не в счет.
- В четвертой группе, все да ответили только `1` вопрос `a`.
- В пятой группе, каждый (всего 1 человек) ответили «да» на `1` вопрос, `b`.

В этом примере сумма этих значений равна `3 + 0 + 1 + 1 + 1` = `6`.

Для каждой группы подсчитайте количество вопросов, на которые все ответили «да». Какова сумма этих подсчетов?

### Решение

Разделяем группы `input.Split("\r\n\r\n")`. Удаляем лишние спец символы `Regex.Replace(group, "\s", "")`. 
Так как символы в одной строке не повторяются собираем все символы группы в одну строку, считаем количество вхождений каждого символа и оставляем только те, количество которых равно количеству строк.

# День 7: Удобные рюкзаки
## Часть первая

Вы приземляетесь в региональном аэропорту как раз к следующему рейсу. На самом деле, похоже, у вас даже будет время перекусить: в настоящее время все рейсы задерживаются из-за проблем с обработкой багажа.

В связи с недавними авиационными правилами, многие правила (ввод вашей головоломки) вводятся в действие в отношении сумок и их содержимого; сумки должны иметь цветовую маркировку и содержать определенное количество сумок с другой цветной маркировкой. По-видимому, никто, ответственный за эти правила, не думал, сколько времени потребуется на их соблюдение!

Например, рассмотрите следующие правила:

```
light red bags contain 1 bright white bag, 2 muted yellow bags.
dark orange bags contain 3 bright white bags, 4 muted yellow bags.
bright white bags contain 1 shiny gold bag.
muted yellow bags contain 2 shiny gold bags, 9 faded blue bags.
shiny gold bags contain 1 dark olive bag, 2 vibrant plum bags.
dark olive bags contain 3 faded blue bags, 4 dotted black bags.
vibrant plum bags contain 5 faded blue bags, 6 dotted black bags.
faded blue bags contain no other bags.
dotted black bags contain no other bags.
```

Эти правила определяют необходимое содержимое для 9 типов сумок. В этом примере каждый `faded blue` мешок пуст, каждый `vibrant plum` мешок содержит 11 мешков (5 `faded blue` и 6 `dotted black`) и так далее.

У тебя есть `shiny gold` сумка. Если бы вы хотели носить его хотя бы в одной сумке, сколько разных цветов можно было быть до самой внешней сумки? (Другими словами: сколько цветов может в конечном итоге содержать хотя бы одну `shiny gold` сумку?)

В приведенных выше правилах вам будут доступны следующие параметры:

- Сумка `bright white`, которая может содержать вашу `shiny gold` сумку непосредственно.
- Сумка `muted yellow`, которая может содержать вашу `shiny gold` сумку непосредственно, а также некоторые другие пакеты.
- Сумка `dark orange`, которая может содержать `bright white` и `muted yellow` сумки, каждый из которых затем может содержать вашу `shiny gold` сумку.
- Сумка `light red`, которая может содержать `bright white` и `muted yellow` сумки, каждый из которых затем может содержать вашу `shiny gold` сумку.

Итак, в этом примере количество цветов сумок, которые в конечном итоге могут содержать хотя бы одну `shiny gold` сумку, равно `4`.

Сколько цветов сумок может в конечном итоге содержать хотя бы одну `shiny gold` сумку? (Список правил довольно длинный; убедитесь, что вы все усвоили.)

### Решение

Парсим правила в словарь key: цвет сумки, value: массив цветов сумок содержащихся внутри. Рекурсивно ищем в каких сумках содержится нужная нам. Снова вызываем этот метод с только что полученными сумками. 
Убираем дубликаты и получаем нужное значение.

# Часть вторая
В наши дни летать становится довольно дорого - не из-за цен на билеты, а из-за невероятного количества сумок, которые вам нужно купить!

Снова рассмотрим вашу `shiny gold` сумку и правила из приведенного выше примера:

- Сумка `faded blue` содержит `0` других сумок.
- Сумка `dotted black` содержит `0` других сумок.
- Сумка `vibrant plum` содержит `11` других сумок: 5 сумок `faded blue` и 6 `dotted black`.
- Сумка `dark olive` содержит `7` других сумок: 3 сумок `faded blue` и 4 `dotted black`.

Таким образом, один `shiny gold` мешок должен содержать 1 `dark olive` мешок (и 7 мешков внутри него) плюс 2 `vibrant plum` мешка (и по 11 мешков в каждом из них): `1 + 1*7 + 2 + 2*11` = `32` мешки!

Конечно, у настоящих правил есть небольшой шанс пойти на несколько уровней глубже, чем в этом примере; обязательно пересчитайте все сумки, даже если размещение становится топологически непрактичным!

Вот еще один пример:
```
shiny gold bags contain 2 dark red bags.
dark red bags contain 2 dark orange bags.
dark orange bags contain 2 dark yellow bags.
dark yellow bags contain 2 dark green bags.
dark green bags contain 2 dark blue bags.
dark blue bags contain 2 dark violet bags.
dark violet bags contain no other bags.
```

В этом примере одина `shiny gold` сумка должена содержать `126` другие сумок.

Сколько отдельных сумок требуется внутри вашей единственной `shiny gold` сумки?

### Решение

Парсим правила в словарь key: цвет сумки, value: массив цветов сумок и их количества содержащихся внутри. Рекурсивно считаем количество сомок внутри. 
Количество сумок внутри прибавляем к количеству сумок внутри каждой из них умноженной на её количество.